DHCP란 무엇인가? <Badge text="song" />
======================================

> date: 200216  
> 생활코딩 [Home server](https://opentutorials.org/course/3265/20039) 수업을 듣고 정리한 자료입니다.

DHCP
----

DHCP란 Dynamic Host Configuration Protocol의 줄임말이며 호스트 IP 구성 및 TCP/IP 통신을 실행하기 위해 필요한 기본 설정을 클라이언트에게 동적으로 할당할 수 있게 제공한다.

다른 말로는 동적 호스트 구성 프로토콜이라 한다.

DHCP 장점
---------


-	**IP 관리가 편함**

PC가 많은 경우 DHCP 프로토콜을 사용하면 DHCP 서버에서 IP를 자동적으로 할당해주기 때문에 IP충돌을 예방할 수 있다.

-	**비용 절약**

PC를 이용하는 사용자에게만 할당되기 때문에 고정IP에 비해 비용이 절약된다.

-	**중앙화된 네트워크 구성**

네트워크 구성 정보가 변경되더라도 구성 정보는 DHCP 데이터 저장소 한 곳에 저장되기 때문에 DHCP 서버에서 여러개의 클라이언트 정보를 한번에 변경할 수 있다.

<br>

DHCP 단점
---------


-	**DHCP 서버 의존**

DHCP서버가 다운되면 IP할당이 멈추므로 인터넷을 사용할 수 없게된다.<br>
<br>   


DHCP 동작 원리
--------------

DHCP 프로토콜을 통한 IP 주소 할당은 영구적인 것이 아니라 유동IP라 하여 임대 기간(IP Lease Time)을 지닌다. 유동IP는 임대 기간이 지나면 또 다른 유동IP를 자동적으로 할당 받으며 고정IP와 같이 하나의 IP를 지속적으로 사용하고 싶은 경우는 일정 금액을 지불해야한다.

아래는 DHCP 서버로부터 IP 주소 를 할당받는 절차이다.<br>
<br>

**1. DHCP Discover**

단말 장비가 "거기 DHCP 서버님 있나요? (단말의 MAC 주소)인데요 IP주소가 필요해요"라고 DHCP 서버에게 IP를 요청한다.

**2. DHCP Offer**

Discover 메세지를 수신한 DHCP 서버가 "(단말의 MAC 주소)님 저 여기있어요 요청하신 IP와 네트워크 정보는 이러해요 사용하시겠어요? "라고 응답한다. > 이때, 단말의 MAC 주소, 임대할 IP, 서브넷 마스크, Default Gateway, DNS, Lease Time 등이 정보에 포함된다.

**3. DHCP Request**

DHCP Offer 메세지를 수신한 단말은 "네! 사용할게요 저에게 그 정보들을 주세요" 라고 DHCP 서버에게 IP 주소 정보를 사용하겠다는 의사를 보인다. > 2대 이상의 DHCP 서버에서 Offer가 온 경우 단말은 마음에 드는 하나의 서버를 선택하여 요청한다.

**4. DHCP Ack**

마지막으론 DHCP 서버가 단말에게 네트워크 정보를 전달하여 단말의 MAC 주소에 매칭이 되는 IP 주소와 게이트웨이 주소를 확정한다.

그로하여금 DHCP Ack를 수신한 단말은 IP 주소 정보 및 네트워크 정보를 받아(임대) 인터넷 사용이 가능해진다.
<br>
<br>

더 자세한건 참고   
[위키](https://ko.wikipedia.org/wiki/%EB%8F%99%EC%A0%81_%ED%98%B8%EC%8A%A4%ED%8A%B8_%EA%B5%AC%EC%84%B1_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C)
